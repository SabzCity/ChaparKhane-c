<!-- For license and copyright information please see LEGAL file in repository -->

<header class="app-bar">
    <span class="left">
        ${widgets["hamburger-menu"].ConnectedCallback()}
        <a href="/"><img alt="SabzCity logo" src="/images/app-icon-48x48.png" /></a>
    </span>

    <span class="center"></span>

    <span class="right">
        ${widgets["user-menu"].ConnectedCallback()}
        ${widgets["service-menu"].ConnectedCallback()}
    </span>
</header>

<main>
    <div role="toolbar">
        <button id="newConn" class="icon" title="${LocaleText[47]}" onclick="appConnectionPageEnableNew()">
            <i class="icons-font">perm_identity</i>
        </button class="icon">
        <button id="editConn" class="icon" title="${LocaleText[48]}" onclick="appConnectionPageEnableEdit()">
            <i class="icons-font">edit</i>
        </button>
        <button class="icon" title="${LocaleText[49]}" onclick="appConnectionPageEnableExpireTheConnection()">
            <i class="icons-font">power_off</i>
        </button>
        <button class="icon" title="${LocaleText[50]}" onclick="appConnectionPageEnableRevokeTheConnection()">
            <i class="icons-font">block</i>
        </button>
        <button id="saveChanges" class="icon" title="${LocaleText[51]}" disabled onclick="appConnectionPageSaveEdit()">
            <i class="icons-font">save</i>
        </button>
        <button id="discardChanges" class="icon" title="${LocaleText[52]}" disabled onclick="appConnectionPageDiscardChanges()">
            <i class="icons-font">clear</i>
        </button>
    </div>

    <article class="layout-grid">
        <header class="span-12">
            <h1>${LocaleText[6]}</h1>
        </header>

        <section>
            <label class="typography--caption" for="statusSelect">${LocaleText[7]}</label>
            <div id="statusValue">${connection.status.GetNameByID(conn.Status)}</div>
            <select id="statusSelect" value="${conn.Status}" hidden>
                <option value="0" disabled>${connection.status.GetNameByID(0)}</option>
                <option value="1">${connection.status.GetNameByID(1)}</option>
                <option value="2">${connection.status.GetNameByID(2)}</option>
                <option value="3">${connection.status.GetNameByID(3)}</option>
                <option value="4">${connection.status.GetNameByID(4)}</option>
            </select>

            <label class="typography--caption" for="userIdentifier">${LocaleText[8]}</label>
            <div id="descriptionValue">${conn.Description}</div>
            <input type="text" id="descriptionInput" autocomplete="off" value="${conn.Description}" hidden />

            <div class="typography--caption">${LocaleText[9]}</div>
            <div id="connID">${conn.ID}</div>

            <label class="typography--caption" for="userIdentifier">${LocaleText[10]}</label>
            <div id="weightValue">${conn.Weight}</div>
            <input type="range" id="weightInput" min="0" max="255" value="${conn.Weight}" oninput="document.getElementById('weightValue').innerHTML = this.value" hidden />
        </section>

        <section>
            <div class="typography--caption">${LocaleText[11]}</div>
            <div>${conn.SocietyID}</div>
            <div class="typography--caption">${LocaleText[12]}</div>
            <div>${conn.RouterID}</div>
            <div class="typography--caption">${LocaleText[13]}</div>
            <div>${conn.GPAddr}</div>
            <div class="typography--caption">${LocaleText[14]}</div>
            <div>${IP.base64.String(conn.IPAddr)}</div>

            <label class="typography--caption" for="thingIDInput">${LocaleText[15]}</label>
            <div id="thingIDValue">${conn.ThingID}</div>
            <input type="text" id="thingIDInput" autocomplete="off" value="${conn.ThingID}" hidden />

            <div class="typography--caption">${LocaleText[16]}</div>
            <div>${conn.UserID}</div>
            <div class="typography--caption">${LocaleText[17]}</div>
            <div>${connection.type.GetNameByID(conn.UserType)}</div>

            <label class="typography--caption" for="delegateUserIDInput">${LocaleText[18]}</label>
            <div id="delegateUserIDValue">${conn.DelegateUserID}</div>
            <input type="text" id="delegateUserIDInput" autocomplete="off" value="${conn.DelegateUserID}" hidden />

            <label class="typography--caption" for="delegateUserTypeSelect">${LocaleText[19]}</label>
            <div id="delegateUserTypeValue">${connection.type.GetNameByID(conn.DelegateUserType)}</div>
            <select id="delegateUserTypeSelect" value="${conn.DelegateUserType}" hidden>
                <option value="0" disabled>${connection.type.GetNameByID(0)}</option>
                <option value="1" disabled>${connection.type.GetNameByID(1)}</option>
                <option value="2">${connection.type.GetNameByID(2)}</option>
                <option value="3">${connection.type.GetNameByID(3)}</option>
                <option value="4">${connection.type.GetNameByID(4)}</option>
                <option value="5">${connection.type.GetNameByID(5)}</option>
            </select>

            <label class="typography--caption" for="publicKeyInput">${LocaleText[20]}</label>
            <div id="publicKeyValue">${conn.PeerPublicKey}</div>
            <input type="text" id="publicKeyInput" autocomplete="off" value="${conn.PeerPublicKey}" hidden />
        </section>

        <section>
            <div class="typography--caption">${LocaleText[21]}</div>
            <div>${time.unix.String(conn.LastUsage)}</div>
            <div class="typography--caption">${LocaleText[22]}</div>
            <div>${conn.PacketPayloadSize}</div>
            <div class="typography--caption">${LocaleText[23]}</div>
            <div>${conn.MaxBandwidth}</div>
            <div class="typography--caption">${LocaleText[24]}</div>
            <div>${conn.ServiceCallCount}</div>
            <div class="typography--caption">${LocaleText[25]}</div>
            <div>${conn.BytesSent}</div>
            <div class="typography--caption">${LocaleText[26]}</div>
            <div>${conn.PacketsSent}</div>
            <div class="typography--caption">${LocaleText[27]}</div>
            <div>${conn.BytesReceived}</div>
            <div class="typography--caption">${LocaleText[28]}</div>
            <div>${conn.PacketsReceived}</div>
            <div class="typography--caption">${LocaleText[29]}</div>
            <div>${conn.FailedPacketsReceived}</div>
            <div class="typography--caption">${LocaleText[30]}</div>
            <div>${conn.FailedServiceCall}</div>
        </section>

        <section class="layout-grid span-12">
            <header class="span-12">
                <h1>${LocaleText[31]}</h1>
            </header>

            <section>
                <h2>${LocaleText[44]}:</h2>

                <div class="typography--caption">${LocaleText[32]}</div>
                <div>${conn.AccessControl.AllowSocieties}</div>
                <div class="typography--caption">${LocaleText[33]}</div>
                <div>${conn.AccessControl.DenySocieties}</div>
                <div class="typography--caption">${LocaleText[34]}</div>
                <div>${conn.AccessControl.AllowRouters}</div>
                <div class="typography--caption">${LocaleText[35]}</div>
                <div>${conn.AccessControl.DenyRouters}</div>
            </section>

            <section>
                <h2>${LocaleText[45]}:</h2>

                <div class="typography--caption">${LocaleText[36]}</div>
                <div>${conn.AccessControl.AllowDays}</div>
                <div class="typography--caption">${LocaleText[37]}</div>
                <div>${conn.AccessControl.DenyDays}</div>
                <div class="typography--caption">${LocaleText[38]}</div>
                <div>${conn.AccessControl.AllowTime}</div>
                <div class="typography--caption">${LocaleText[39]}</div>
                <div>${conn.AccessControl.DenyTime}</div>
            </section>

            <section>
                <h2>${LocaleText[46]}:</h2>

                <div class="typography--caption">${LocaleText[40]}</div>
                <div>${conn.AccessControl.AllowServices}</div>
                <div class="typography--caption">${LocaleText[41]}</div>
                <div>${conn.AccessControl.DenyServices}</div>
                <div class="typography--caption">${LocaleText[42]}</div>
                <div>${authorization.CRUD.GetNameByID(conn.AccessControl.AllowCRUD)}</div>
                <div class="typography--caption">${LocaleText[43]}</div>
                <div>${authorization.CRUD.GetNameByID(conn.AccessControl.DenyCRUD)}</div>
            </section>
        </section>
    </article>

    <footer>
    </footer>
</main>